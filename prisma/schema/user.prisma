model User {
    id String @id @default(cuid())

    password String
    email    String @unique

    role Role @default(USER)

    recipes  Recipe[]
    comments Comment[]
    likes    Like[]
    orders   Order[]

    profiles     Profile?
    measurements BodyMeasurements?

    createdAt DateTime @default(now()) @map("created_at")
    updatedAt DateTime @updatedAt @map("updated_at")

    @@index(fields: [email], type: Hash)
    @@map("users")
}

model BodyMeasurements {
    id String @id @default(cuid())

    heightCm     String? @map("height_cm")
    weightKg     String? @map("weight_kg")
    goalWeightKg String? @map("goal_weight_kg")

    chestCm String? @map("chest_cm")
    waistCm String? @map("waist_cm")
    thighCm String? @map("thigh_cm")
    armCm   String? @map("arm_cm")

    activityLevel   ActivityLevel    @map("activity_level")
    nutritionalGoal NutritionalGoals @map("nutritional_goal")

    user   User   @relation(fields: [userId], references: [id], onDelete: Cascade)
    userId String @unique @map("profile_id")

    createdAt DateTime @default(now()) @map("created_at")
    updatedAt DateTime @updatedAt @map("updated_at")

    @@map("body_measurements")
}

enum NutritionalGoals {
    WEIGHT_LOSS
    MAINTENANCE
    MUSCLE_GAIN
}

enum ActivityLevel {
    SEDENTARY
    LIGHT
    MODERATE
    ACTIVE
    VERY_ACTIVE
}

enum Role {
    USER
    ADMIN
}
